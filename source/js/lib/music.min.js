var bgMusic = document.getElementById("bg-music");
var playBtn = document.getElementById("play-btn");

/* playBtn.addEventListener("click",()=>
{
    // 如果音乐未被播放并且音频元素已加载
    if (bgMusic.paused && bgMusic.readyState === 4) {
      // 在播放音乐之前，先将 currentTime 设置为 0，以便它从开始处播放
      //bgMusic.currentTime = 0;
      bgMusic.play();
    }
}); */

// 当音乐开始播放时，保存当前播放状态到 localStorage 中
audio.addEventListener("play", function() {
  localStorage.setItem("bg-music-time", audio.currentTime);
});

// 当音乐结束播放时，清除 localStorage 中的播放状态记录
audio.addEventListener("ended", function() {
  localStorage.removeItem("bg-music-time");
});

// 在页面加载时，读取 localStorage 中的播放状态并恢复音乐的播放状态
window.addEventListener("load", function() {
  var time = localStorage.getItem("bg-music-time");
  if (time !== null) {
    audio.currentTime = time;
  }
  else{
    audio.currentTime = 0;
  }
  audio.play();
});






